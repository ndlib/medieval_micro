(function(d){function b(k){var j=d('meta[name="csrf-token"]').attr("content");if(j){k.setRequestHeader("X-CSRF-Token",j)}}if("ajaxPrefilter" in d){d.ajaxPrefilter(function(j,l,k){b(k)})}else{d(document).ajaxSend(function(j,k){b(k)})}function c(m,j,l){var k=d.Event(j);m.trigger(k,l);return k.result!==false}function i(m){var o,k,n,j=m.data("type")||(d.ajaxSettings&&d.ajaxSettings.dataType);if(c(m,"ajax:before")){if(m.is("form")){o=m.attr("method");k=m.attr("action");n=m.serializeArray();var l=m.data("ujs:submit-button");
if(l){n.push(l);m.data("ujs:submit-button",null)}}else{o=m.data("method");k=m.attr("href");n=null}d.ajax({url:k,type:o||"GET",data:n,dataType:j,beforeSend:function(q,p){if(p.dataType===undefined){q.setRequestHeader("accept","*/*;q=0.5, "+p.accepts.script)}return c(m,"ajax:beforeSend",[q,p])},success:function(q,p,r){m.trigger("ajax:success",[q,p,r])},complete:function(q,p){m.trigger("ajax:complete",[q,p])},error:function(r,p,q){m.trigger("ajax:error",[r,p,q])}})}}function f(n){var k=n.attr("href"),p=n.data("method"),l=d("meta[name=csrf-token]").attr("content"),o=d("meta[name=csrf-param]").attr("content"),m=d('<form method="post" action="'+k+'"></form>'),j='<input name="_method" value="'+p+'" type="hidden" />';
if(o!==undefined&&l!==undefined){j+='<input name="'+o+'" value="'+l+'" type="hidden" />'}m.hide().append(j).appendTo("body");m.submit()}function g(j){j.find("input[data-disable-with], button[data-disable-with]").each(function(){var k=d(this),l=k.is("button")?"html":"val";k.data("ujs:enable-with",k[l]());k[l](k.data("disable-with"));k.attr("disabled","disabled")})}function a(j){j.find("input[data-disable-with]:disabled, button[data-disable-with]:disabled").each(function(){var k=d(this),l=k.is("button")?"html":"val";
if(k.data("ujs:enable-with")){k[l](k.data("ujs:enable-with"))}k.removeAttr("disabled")})}function h(j){var k=j.data("confirm");return !k||(c(j,"confirm")&&confirm(k))}function e(k){var j=false;k.find("input[name][required]").each(function(){if(!d(this).val()){j=true}});return j}d("a[data-confirm], a[data-method], a[data-remote]").live("click.rails",function(k){var j=d(this);if(!h(j)){return false}if(j.data("remote")!=undefined){i(j);return false}else{if(j.data("method")){f(j);return false}}});d("form").live("submit.rails",function(l){var j=d(this),k=j.data("remote")!=undefined;
if(!h(j)){return false}if(e(j)){return !k}if(k){i(j);return false}else{setTimeout(function(){g(j)},13)}});d("form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])").live("click.rails",function(){var k=d(this);if(!h(k)){return false}var j=k.attr("name"),l=j?{name:j,value:k.val()}:null;k.closest("form").data("ujs:submit-button",l)});d("form").live("ajax:beforeSend.rails",function(j){if(this==j.target){g(d(this))}});d("form").live("ajax:complete.rails",function(j){if(this==j.target){a(d(this))
}})})(jQuery);